graph 四静虑 {
    rankdir = LR
    splines=true
    node [shape = none ]
    
    labelloc = t
    label = "
            四静虑禅支\l
            净定和无漏定有红色禅支\l
            染污定没有红色的禅支\l
            "    
    
    四静虑[fontcolor = red]
    初禅[fontcolor = red]
    二禅[fontcolor = red]
    三禅[fontcolor = red]
    四禅[fontcolor = red]

    四静虑 -- {生静虑,定静虑}  

    生静虑 -- {生初禅,生二禅,生三禅,生四禅} 
    生初禅 -- 生静虑受:初禅
    生二禅 -- 生静虑受:二禅
    生三禅 -- 生静虑受:三禅
    生四禅 -- 生静虑受:四禅

    生静虑受 [label=<
           <table border='1' cellborder='1' cellspacing='0' >
                <tr>
                    <td width='70' align='center'>识</td>
                    <td width='70' align='center'>眼识</td>
                    <td width='70' align='center'>耳识</td>
                    <td width='70' align='center'>鼻识</td>
                    <td width='70' align='center'>舌识</td>
                    <td width='70' align='center'>身识</td>
                    <td width='70' align='center'>意识</td>
                </tr>
                <tr>
                    <td>受</td>
                    <td>乐/捨</td>
                    <td>乐/捨</td>
                    <td></td>
                    <td></td>
                    <td>乐/捨</td>
                    <td>喜/乐/捨</td>
                </tr>
                <tr>
                    <td port='初禅'>初禅</td>
                    <td>乐/捨</td>
                    <td>乐/捨</td>
                    <td> </td>
                    <td> </td>
                    <td>乐/捨</td>
                    <td>喜/捨</td>
                </tr>
                <tr>
                    <td port='二禅'>二禅</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td>喜/捨</td>
                </tr>
                <tr>
                    <td port='三禅'>三禅</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td>乐/捨</td>
                </tr>
                <tr>
                    <td port='四禅'>四禅</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td>捨</td>
                </tr>
      </table>
            >]


    定静虑 -- {定初禅,定二禅,定三禅,定四禅} 
    火灾 -- 初禅 [label = 因寻伺生]
    水灾 -- 二禅 [label = 因极喜生]  
    风灾 -- 三禅 [label = 因出入息生]
    三灾 -- 四禅 [label = 因不动离]

    八灾 -- 八个灾
    八个灾[shape=record label = "{寻|伺|忧|苦|喜|乐|出息|入息}"] 

    {初禅,二禅,三禅,四禅} -- 四静虑  
    初禅 -- 二禅 -- 三禅 -- 四禅  [style=invis]

    定初禅 -- 禅支:初禅五支
    定二禅 -- 禅支:二禅四支
    定三禅 -- 禅支:三禅五支
    定四禅 -- 禅支:四禅四支
    
    禅支 [label=<
           <table border='1' cellborder='1' cellspacing='0' >
                <tr>
                    <td width='100' align='center'></td>
                    <td width='50'  align='center'>1</td>
                    <td width='50'  align='center'>2</td>
                    <td width='70'  align='center'>3</td>
                    <td width='70'  align='center'>4</td>
                    <td width='50'  align='center'>5</td>
                    <td width='70'  align='center'>6</td>
                    <td width='50'  align='center'>7</td>
                    <td width='50'  align='center'>8</td>
                    <td width='50'  align='center'>9</td>
                    <td width='70'  align='center'>10</td>
                    <td width='80'  align='center'>11</td>
                </tr>
                <tr>
                    <td>十一禅支</td>
                    <td>寻</td>
                    <td>伺</td>
                    <td>喜</td>
                    <td>轻安乐</td>
                    <td>等持</td>
                    <td>内等净</td>
                    <td>行捨</td>
                    <td>正念</td>
                    <td>正慧</td>
                    <td>心受乐</td>
                    <td>非苦乐受</td>
                </tr>
                <tr>
                    <td>九禅支</td>
                    <td>寻</td>
                    <td>伺</td>
                    <td bgcolor='orange'>受心所</td>
                    <td>轻安乐</td>
                    <td>等持</td>
                    <td>内等净</td>
                    <td>行捨</td>
                    <td>正念</td>
                    <td>正慧</td>
                    <td bgcolor='orange'>受心所</td>
                    <td bgcolor='orange'>受心所</td>
                </tr>
                <tr>
                    <td port='初禅五支'>初禅五支</td>
                    <td>寻</td>
                    <td>伺</td>
                    <td bgcolor='red'>喜</td>
                    <td bgcolor='red'>轻安乐</td>
                    <td>等持</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                </tr>
                <tr>
                    <td port='二禅四支'>二禅四支</td>
                    <td> </td>
                    <td> </td>
                    <td>喜</td>
                    <td>轻安乐</td>
                    <td>等持</td>
                    <td bgcolor='red'>内等净</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                </tr>
                <tr>
                   <td port='三禅五支'>三禅五支</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td>等持</td>
                    <td> </td>
                    <td>行捨</td>
                    <td bgcolor='red'>正念</td>
                    <td bgcolor='red'>正慧</td>
                    <td>心受乐</td>
                    <td> </td>
                </tr>
                <tr>
                    <td port='四禅四支'>四禅四支</td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                    <td>等持</td>
                    <td> </td>
                    <td bgcolor='red'>行捨</td>
                    <td>正念</td>
                    <td> </td>
                    <td> </td>
                    <td>非苦乐受</td>
                </tr>
      </table>
            >]
  

    {rank = same; 初禅; 二禅;三禅;四禅;}
    {rank = same; 生静虑受; 禅支; 八个灾;}
}